{"version":3,"file":"js/app.js","mappings":"mEAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACJ,EAAIK,GAAG,GAAGH,EAAG,aAAa,CAACI,YAAY,aAAaF,MAAM,CAAC,MAAQ,kBAAkB,EACvL,EACIG,EAAkB,CAAC,WAAY,IAAIP,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,+BAA+B,CAACJ,EAAG,KAAK,CAACI,YAAY,QAAQ,CAACN,EAAIQ,GAAG,oBAAoBN,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACJ,EAAG,IAAI,CAACF,EAAIQ,GAAG,8EAA8EN,EAAG,IAAI,CAACF,EAAIQ,GAAG,qCACjU,GCHIT,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,OAAOG,YAAY,CAAC,WAAa,wDAAwDL,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,MAAM,CAACI,YAAY,2BAA2B,CAACJ,EAAG,KAAK,CAACI,YAAY,0DAA0D,CAACN,EAAIQ,GAAG,IAAIR,EAAIU,GAAGV,EAAIW,OAAO,OAAOT,EAAG,MAAM,CAACI,YAAY,mCAAmC,CAACJ,EAAG,MAAM,CAACI,YAAY,qBAAqBF,MAAM,CAAC,IAAMJ,EAAIY,QAAQ,IAAM,MAAMV,EAAG,MAAM,CAACI,YAAY,sCAAsCF,MAAM,CAAC,MAAQ,OAAO,OAAS,MAAM,QAAU,eAAe,KAAO,OAAO,MAAQ,6BAA6B,GAAK,WAAWS,GAAG,CAAC,MAAQb,EAAIc,WAAW,CAAEd,EAAIe,SAAUb,EAAG,IAAI,CAACI,YAAY,UAAUF,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,6BAA6BY,SAAS,CAAC,UAAYhB,EAAIU,GAAGV,EAAIe,SAASE,SAASf,EAAG,IAAI,CAACc,SAAS,CAAC,UAAYhB,EAAIU,GAAGV,EAAIe,SAASG,SAAShB,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,MAAM,CAAC,GAAK,wBAAwB,CAACF,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQ,OAAO,OAAS,OAAO,KAAO,WAAWF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,OAAO,OAAS,OAAO,eAAe,IAAI,iBAAiB,SAASY,SAAS,CAAC,UAAYhB,EAAIU,GAAGV,EAAIe,SAASI,eAAenB,EAAIoB,OAAQpB,EAAIkB,KAAMhB,EAAG,MAAM,CAACmB,IAAI,OAAOf,YAAY,iJAAiJgB,MAAM,CAAC,oBAAqBtB,EAAIuB,kBAAkB,CAACrB,EAAG,MAAM,CAACI,YAAY,QAAQ,CAACJ,EAAG,OAAO,CAACI,YAAY,iCAAiC,CAACN,EAAIQ,GAAGR,EAAIU,GAAGV,EAAIkB,KAAKM,SAAStB,EAAG,OAAO,CAACI,YAAY,yBAAyBF,MAAM,CAAC,MAAQ,WAAWS,GAAG,CAAC,MAAQb,EAAIyB,aAAa,CAACzB,EAAIQ,GAAG,SAASR,EAAI0B,GAAI1B,EAAI2B,UAAU,SAASC,EAAKC,GAAG,OAAO3B,EAAG,MAAM,CAAC4B,IAAID,EAAEvB,YAAY,wBAAwB,CAACJ,EAAG,OAAO,CAACI,YAAY,cAAc,CAACN,EAAIQ,GAAG,IAAIR,EAAIU,GAAGkB,EAAKG,MAAM,OAAO7B,EAAG,OAAO,CAACI,YAAY,4DAA4D,CAACN,EAAIQ,GAAG,IAAIR,EAAIU,GAAGkB,EAAKI,OAAO,QAAQ,IAAG9B,EAAG,IAAI,CAACI,YAAY,UAAUF,MAAM,CAAC,KAAOJ,EAAIiC,QAAQjC,EAAIkB,KAAKA,QAAQ,CAAChB,EAAG,SAAS,CAACI,YAAY,6DAA6D,CAACN,EAAIQ,GAAG,6BAA6B,GAAGR,EAAIoB,OAAOlB,EAAG,MAAM,CAACI,YAAY,yCAAyCN,EAAI0B,GAAI1B,EAAIkC,WAAW,SAASC,GAAG,OAAOjC,EAAG,IAAI,CAAC4B,IAAIK,EAAEjB,KAAKd,MAAM,CAAC,KAAOJ,EAAIiC,QAAQE,EAAEjB,QAAQ,CAAChB,EAAG,OAAO,CAACI,YAAY,sBAAsB,CAACN,EAAIQ,GAAG,IAAIR,EAAIU,GAAGyB,EAAEX,MAAM,QAAQ,IAAG,MACp6E,EACIjB,EAAkB,G,mBCiItB,GACA6B,MAAA,UACAC,IAAAA,GACA,OACAC,cAAA,KACAC,OAAA,KACArB,KAAA,KACAK,gBAAA,KAEA,EAGAiB,OAAAA,GAEA,KAAAF,cAAA,spEACA,KAAAC,OAAA,u3LAEA,EAEAE,SAAA,CACAP,SAAAA,GACA,SAAAK,QAAA,KAAAA,SAAA,eAEA,IAAAG,EAAAb,IAAAA,UAAA,KAAAU,QACAG,EAAAA,EAAAC,KAAAzB,IACA,IAAAM,EAAAN,EAAA0B,GAEA,WAAA1B,EAAA2B,MAAArB,EAAA,eAEA,MAAAsB,EAAA,KAAAR,cAAAS,MAAAC,GAAA9B,EAAA0B,KAAAI,EAAA9B,OACA,OAAA4B,EAAA,IAAA5B,KAAA4B,EAAA,KAAAtB,GAAA,IAAAN,EAAA,KAAAM,EAAA,IAIA,MAAAyB,EAAA,SACAC,EAAA,6BAUA,OARAR,EAAAS,MAAA,CAAAC,EAAAC,IACAD,EAAAP,MAAAI,GAAA,EACAI,EAAAR,MAAAI,EAAA,EACAG,EAAAP,MAAAK,GAAA,EACAG,EAAAR,MAAAK,EAAA,EACA,IAGAR,CACA,EAEAf,QAAAA,GACA,MAAAT,EAAA,KAAAA,KACA,OACA,CAAAa,KAAA,sBAAAC,MAAAd,EAAAoC,KACA,CAAAvB,KAAA,oBAAAC,MAAAd,EAAAqC,KACA,CAAAxB,KAAA,mBAAAC,MAAAd,EAAAsC,KACA,CAAAzB,KAAA,oBAAAC,MAAAd,EAAAuC,MACA,CAAA1B,KAAA,cAAAC,MAAAd,EAAAwC,IACA,CAAA3B,KAAA,YAAAC,MAAAd,EAAAyC,IACA,CAAA5B,KAAA,WAAAC,MAAAd,EAAA0C,IACA,CAAA7B,KAAA,YAAAC,MAAAd,EAAAgC,MACAW,QAAAC,GAAAA,EAAA9B,OACA,EACA+B,SAAAA,GACA,YAAA7B,UACA,KAAAA,UAAA2B,QAAA1B,KAAAA,EAAA2B,KAAA3B,EAAA6B,IADA,IAEA,EACAjD,QAAAA,GACA,SAAAgD,UAAA,YAEA,IAAAE,EAEA,MAAAvB,EAAA,KAAAqB,UAAAG,QACA,CAAAC,EAAAjD,KACA+C,EAAA,KAAAG,cAAAlD,GACAiD,EAAAjD,MAAA+C,EAAA/C,KACAiD,EAAAlD,MAAAgD,EAAAhD,KACAkD,EAAAhD,MAAA8C,EAAA9C,KACAgD,IAEA,2BAEA,OAAAzB,CACA,EAEA9B,OAAAA,GACA,0CACA,GAGAyD,MAAA,CACAnD,IAAAA,CAAAoD,EAAAC,GACA,OAAAD,GAAA,OAAAC,GAAA,KAAAC,eACA,GAGAC,QAAA,CACAxC,OAAAA,CAAAf,GAEA,uEAAAA,MACA,EAEAO,UAAAA,GACA,KAAAP,KAAA,IACA,EAEAkD,aAAAA,EAAA,EAAAN,EAAA,EAAAE,EAAA,KAAAxC,EAAA,IAAAqB,EAAA,KAAA6B,EAAA,MAAAC,IAEA,MAAAC,EAAAA,CAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,KAEA,IAAApB,EAAAE,EAQA,OATAiB,EAAAA,GAAA,GAEAC,GAIApB,GAAAe,EAAAE,EAAAE,GAAAD,EAAAF,IAAA,EACAd,GAAAc,EAAAE,EAAAC,GAAAF,EAAAF,IAAA,IAJAf,GAAAe,EAAAE,EAAAE,GAAAD,EAAAF,IAAA,EACAd,GAAAc,EAAAE,EAAAC,GAAAF,EAAAF,IAAA,GAKA,GAAAf,EAAA,EAAAE,EAAA,EAGAmB,EAAA,CACA,MACA,MACA,OAEA,OACA,MACA,QAIAC,EAAAD,EAAAE,KAAArB,EACA,IAAAsB,EAAAC,EAAAN,EAAA,EACA,MAAAO,GAAAL,EAAAD,MAAApB,EAAAqB,EAAAE,KAAAvB,GAAA,EACA2B,EAAA3B,EAAA0B,EACAF,EAAAG,EAAAN,EAAAD,MAAApB,EAAAqB,EAAAE,KAAAvB,EACAmB,GAAAjB,EAAAoB,IAAA,IAAAA,GAAA,MAAAM,KAAAC,IAAAH,EAAA1B,GAAA0B,GACAP,EAAA,KAAAA,EAAA,IACAA,EAAA,IAAAA,EAAA,GACAM,EAAAX,EAAAd,EAAAE,EAAAsB,EAAAF,EAAAH,EAAAQ,GAEA,IACAG,EADAC,EAAA,GAEA,QAAAnB,GAAA,UAAAA,GACAmB,EAAA,iBAAAnB,EACAkB,EAAA,QAAAlB,EAAA,MAEAkB,EAAA,EAGA,IAAAE,EAAAC,EAAAC,EAAA,GACArB,EAGA,SAAAA,GACAmB,EAAAhC,EAAA8B,EAAA,EACAG,EAAA/B,EAAA4B,EAAA,EACAI,EAAA,qBACA,QAAArB,GACAmB,EAAAhC,EACAiC,EAAA/B,EAAA4B,EAAA,EACAI,EAAA,wBACA,WAAArB,IACAmB,EAAAhC,EACAiC,EAAA/B,EAAA4B,EAAA,GACAI,EAAA,yBAbAF,EAAAhC,EAAA8B,EAAA,EACAG,EAAA/B,EAAA4B,EAAA,GAeA,IAAAlD,EAAA,GAyBA,OAvBAA,EAAAxB,KAAA,8BACA2B,wJAEAiB,UAAAE,SAAA4B,oEACAC,wBAAAC,SAAAC,0BAAAC,KAAAxE,uFAGAqB,yDACAiB,KAAAE,MAAAuB,EAAAzB,KAAAyB,EAAAvB,KAAAsB,KAAAF,8GAMA1C,EAAAzB,KAAA,iDACA6C,KAAAE,MAAAuB,EAAAzB,KAAAyB,EAAAvB,KAAAsB,KAAAF,oHAAAvC,qBAGAH,EAAAvB,KAAA,mDACA2C,UAAAE,SAAA4B,8CACAC,SAAAC,SAAAC,MAAAC,KAAAxE,uBAGAkB,CACA,EAEA5B,QAAAA,CAAAmF,GACA,MAAAC,EAAAD,EAAAC,OACA,IAAAA,EAAAC,UAAAC,SAAA,kBAGA,YADA,KAAAlF,KAAA,MAGA,MAAAmF,EAAAH,EAAAI,QAAA,kBACA,KAAA9B,gBACA6B,EAAAF,UAAAI,IAAA,0BAGA,MAAAC,EAAAC,SAAAC,eAAA,OACAF,EAAAG,eAAA,CAAAC,SAAA,WAEA,MAAA/D,EAAAwD,EAAAQ,QAAAhE,IAEA,KAAA3B,MAAA,KAAAA,KAAA2B,MAAAA,IACAiE,YAAA,KACA,KAAA5F,KAAA,KAAAgB,UAAAa,MAAAZ,GAAAA,EAAAU,MAAAA,GAAA,GACA,KACA,KAAAtB,iBAAA,EACAuF,YAAA,KACA,KAAAvF,iBAAA,IACA,MAGA,EAEAiD,aAAAA,GACAiC,SAAAM,iBAAA,oCAAAC,SAAAC,GAAAA,EAAAd,UAAAe,OAAA,2BACA,ICrWmP,I,UCQ/OC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QCFhC,GACApF,KAAA,MACAqF,WAAA,CACA,aAAAC,ICpB0O,ICOtO,GAAY,OACd,EACAtH,EACAQ,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QCdhC+G,EAAAA,GAAIC,OAAOC,eAAgB,EAE3B,IAAIF,EAAAA,GAAI,CACNvH,OAAQ0H,GAAKA,EAAEC,KACdC,OAAO,O,GCPNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CACjDK,GAAIL,EACJM,QAAQ,EACRH,QAAS,CAAC,GAUX,OANAI,EAAoBP,GAAUQ,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG3EK,EAAOE,QAAS,EAGTF,EAAOD,OACf,CAGAJ,EAAoBU,EAAIF,E,WC5BxB,IAAIG,EAAW,GACfX,EAAoBY,EAAI,SAAS/F,EAAQgG,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIP,EAASQ,OAAQD,IAAK,CACrCL,EAAWF,EAASO,GAAG,GACvBJ,EAAKH,EAASO,GAAG,GACjBH,EAAWJ,EAASO,GAAG,GAE3B,IAJA,IAGIE,GAAY,EACPC,EAAI,EAAGA,EAAIR,EAASM,OAAQE,MACpB,EAAXN,GAAsBC,GAAgBD,IAAaO,OAAOC,KAAKvB,EAAoBY,GAAGY,OAAM,SAASvH,GAAO,OAAO+F,EAAoBY,EAAE3G,GAAK4G,EAASQ,GAAK,IAChKR,EAASY,OAAOJ,IAAK,IAErBD,GAAY,EACTL,EAAWC,IAAcA,EAAeD,IAG7C,GAAGK,EAAW,CACbT,EAASc,OAAOP,IAAK,GACrB,IAAInD,EAAI+C,SACEX,IAANpC,IAAiBlD,EAASkD,EAC/B,CACD,CACA,OAAOlD,CArBP,CAJCkG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIP,EAASQ,OAAQD,EAAI,GAAKP,EAASO,EAAI,GAAG,GAAKH,EAAUG,IAAKP,EAASO,GAAKP,EAASO,EAAI,GACrGP,EAASO,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,eC5BAf,EAAoBZ,EAAI,SAASiB,GAChC,IAAIqB,EAASrB,GAAUA,EAAOsB,WAC7B,WAAa,OAAOtB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoB4B,EAAEF,EAAQ,CAAEnG,EAAGmG,IAC5BA,CACR,C,eCNA1B,EAAoB4B,EAAI,SAASxB,EAASyB,GACzC,IAAI,IAAI5H,KAAO4H,EACX7B,EAAoB8B,EAAED,EAAY5H,KAAS+F,EAAoB8B,EAAE1B,EAASnG,IAC5EqH,OAAOS,eAAe3B,EAASnG,EAAK,CAAE+H,YAAY,EAAMC,IAAKJ,EAAW5H,IAG3E,C,eCPA+F,EAAoBkC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO/J,MAAQ,IAAIgK,SAAS,cAAb,EAChB,CAAE,MAAOhE,GACR,GAAsB,kBAAXiE,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBrC,EAAoB8B,EAAI,SAASQ,EAAKC,GAAQ,OAAOjB,OAAOkB,UAAUC,eAAehC,KAAK6B,EAAKC,EAAO,C,eCAtGvC,EAAoB0C,IAAM,SAASrC,GAGlC,OAFAA,EAAOsC,MAAQ,GACVtC,EAAOuC,WAAUvC,EAAOuC,SAAW,IACjCvC,CACR,C,eCCA,IAAIwC,EAAkB,CACrB,IAAK,GAaN7C,EAAoBY,EAAES,EAAI,SAASyB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BxI,GAC/D,IAKIyF,EAAU6C,EALVjC,EAAWrG,EAAK,GAChByI,EAAczI,EAAK,GACnB0I,EAAU1I,EAAK,GAGI0G,EAAI,EAC3B,GAAGL,EAASsC,MAAK,SAAS7C,GAAM,OAA+B,IAAxBuC,EAAgBvC,EAAW,IAAI,CACrE,IAAIL,KAAYgD,EACZjD,EAAoB8B,EAAEmB,EAAahD,KACrCD,EAAoBU,EAAET,GAAYgD,EAAYhD,IAGhD,GAAGiD,EAAS,IAAIrI,EAASqI,EAAQlD,EAClC,CAEA,IADGgD,GAA4BA,EAA2BxI,GACrD0G,EAAIL,EAASM,OAAQD,IACzB4B,EAAUjC,EAASK,GAChBlB,EAAoB8B,EAAEe,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO9C,EAAoBY,EAAE/F,EAC9B,EAEIuI,EAAqBC,KAAK,+BAAiCA,KAAK,gCAAkC,GACtGD,EAAmBjE,QAAQ4D,EAAqBO,KAAK,KAAM,IAC3DF,EAAmBG,KAAOR,EAAqBO,KAAK,KAAMF,EAAmBG,KAAKD,KAAKF,G,IC/CvF,IAAII,EAAsBxD,EAAoBY,OAAET,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,KAAO,IACjHwD,EAAsBxD,EAAoBY,EAAE4C,E","sources":["webpack://map-bezier_vue2/./src/App.vue","webpack://map-bezier_vue2/./src/components/Map.vue","webpack://map-bezier_vue2/src/components/Map.vue","webpack://map-bezier_vue2/./src/components/Map.vue?8ac4","webpack://map-bezier_vue2/./src/components/Map.vue?18ce","webpack://map-bezier_vue2/src/App.vue","webpack://map-bezier_vue2/./src/App.vue?51dd","webpack://map-bezier_vue2/./src/App.vue?0e40","webpack://map-bezier_vue2/./src/main.js","webpack://map-bezier_vue2/webpack/bootstrap","webpack://map-bezier_vue2/webpack/runtime/chunk loaded","webpack://map-bezier_vue2/webpack/runtime/compat get default export","webpack://map-bezier_vue2/webpack/runtime/define property getters","webpack://map-bezier_vue2/webpack/runtime/global","webpack://map-bezier_vue2/webpack/runtime/hasOwnProperty shorthand","webpack://map-bezier_vue2/webpack/runtime/node module decorator","webpack://map-bezier_vue2/webpack/runtime/jsonp chunk loading","webpack://map-bezier_vue2/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_c('map-bezier',{staticClass:\"mt-4 mb-32\",attrs:{\"title\":\"Наши города\"}})],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container px-4 mx-auto mt-8\"},[_c('h1',{staticClass:\"text\"},[_vm._v(\"Карта с путями\")]),_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(\"Пути на карте сторятся динамически с использованием модели кривых Безье.\")]),_c('p',[_vm._v(\"vue2, tailwindcss, SCSS, SVG\")])])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"py-9\",staticStyle:{\"background\":\"linear-gradient(45deg, #c32ae0 14.5%, #2526a9 85.5%)\"},attrs:{\"id\":\"map\"}},[_c('div',{staticClass:\"container mx-auto mb-16\"},[_c('h1',{staticClass:\"text-white font-extrabold text-2xl md:text-[32px] px-4\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"w-full relative hidden md:block\"},[_c('img',{staticClass:\"w-full select-none\",attrs:{\"src\":_vm.bgImage,\"alt\":\"\"}}),_c('svg',{staticClass:\"absolute left-0 top-0 w-full h-full\",attrs:{\"width\":\"1300\",\"height\":\"679\",\"viewBox\":\"0 0 1300 679\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"id\":\"cities1\"},on:{\"click\":_vm.clickMap}},[(_vm.svgItems)?_c('g',{staticClass:\"svg-map\",attrs:{\"id\":\"svg-map\"}},[_c('g',{attrs:{\"mask\":\"url(#svg-map__mask_total)\"},domProps:{\"innerHTML\":_vm._s(_vm.svgItems.path)}}),_c('g',{domProps:{\"innerHTML\":_vm._s(_vm.svgItems.city)}}),_c('defs',[_c('mask',{attrs:{\"id\":\"svg-map__mask_total\"}},[_c('rect',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"fill\":\"white\"}}),_c('g',{attrs:{\"fill\":\"#000\",\"stroke\":\"#000\",\"stroke-width\":\"4\",\"stroke-linecap\":\"round\"},domProps:{\"innerHTML\":_vm._s(_vm.svgItems.mask)}})])])]):_vm._e()]),(_vm.city)?_c('div',{ref:\"card\",staticClass:\"svg-map__popup absolute lg:w-[320px] xl:w-[350px] flex flex-col bg-white rounded-lg left-1/2 top-20 -translate-x-1/2 py-4 px-9 gap-2 shadow-lg\",class:{'svg-map__popup_on': _vm.popupTransition}},[_c('div',{staticClass:\"flex\"},[_c('span',{staticClass:\"text-pink underline font-bold\"},[_vm._v(_vm._s(_vm.city.text))]),_c('span',{staticClass:\"ml-auto cursor-pointer\",attrs:{\"title\":\"Закрыть\"},on:{\"click\":_vm.closePopup}},[_vm._v(\"✖\")])]),_vm._l((_vm.cityData),function(item,_){return _c('div',{key:_,staticClass:\"flex justify-between\"},[_c('span',{staticClass:\"text-black\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")]),_c('span',{staticClass:\"text-white leading-2 rounded-full font-bold px-4 bg-blue\"},[_vm._v(\" \"+_vm._s(item.value)+\" \")])])}),_c('a',{staticClass:\"mx-auto\",attrs:{\"href\":_vm.mapLink(_vm.city.city)}},[_c('button',{staticClass:\"px-4 py-2 mx-auto bg-blue text-white font-bold rounded-md\"},[_vm._v(\" Разместить рекламу \")])])],2):_vm._e()]),_c('div',{staticClass:\"grid md:hidden grid-cols-2 gap-2 px-4\"},_vm._l((_vm.mapCities),function(c){return _c('a',{key:c.city,attrs:{\"href\":_vm.mapLink(c.city)}},[_c('span',{staticClass:\"text-xl text-white\"},[_vm._v(\" \"+_vm._s(c.text)+\" \")])])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n        class=\"py-9\"\r\n        style=\"background: linear-gradient(45deg, #c32ae0 14.5%, #2526a9 85.5%)\"\r\n        id=\"map\"\r\n    >\r\n        <div class=\"container mx-auto mb-16\">\r\n            <h1\r\n                class=\"\r\n                    text-white\r\n                    font-extrabold\r\n                    text-2xl\r\n                    md:text-[32px]\r\n                    px-4\r\n                \"\r\n            >\r\n                {{ title }}\r\n            </h1>\r\n            <div class=\"w-full relative hidden md:block\">\r\n                <img :src=\"bgImage\" alt=\"\" class=\"w-full select-none\" />\r\n                <svg\r\n                    width=\"1300\"\r\n                    height=\"679\"\r\n                    viewBox=\"0 0 1300 679\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    id=\"cities1\"\r\n                    class=\"absolute left-0 top-0 w-full h-full\"\r\n                    @click=\"clickMap\"\r\n                >\r\n                    <g v-if=\"svgItems\" id=\"svg-map\" class=\"svg-map\">\r\n                      <g v-html=\"svgItems.path\"  mask=\"url(#svg-map__mask_total)\"/>\r\n                      <g v-html=\"svgItems.city\"/>\r\n                      <defs>\r\n                        <mask id=\"svg-map__mask_total\">\r\n                          <rect width=\"100%\" height=\"100%\" fill=\"white\"/>\r\n                          <g\r\n                            v-html=\"svgItems.mask\"\r\n                            fill=\"#000\" stroke=\"#000\" stroke-width=\"4\"  stroke-linecap=\"round\"\r\n                          />\r\n                        </mask>\r\n                      </defs>\r\n                    </g>\r\n                </svg>\r\n                <div\r\n                    v-if=\"city\"\r\n                    ref=\"card\"\r\n                    class=\"\r\n                        svg-map__popup\r\n                        absolute\r\n                        lg:w-[320px]\r\n                        xl:w-[350px]\r\n                        flex flex-col\r\n                        bg-white\r\n                        rounded-lg\r\n                        left-1/2\r\n                        top-20\r\n                        -translate-x-1/2\r\n                        py-4\r\n                        px-9\r\n                        gap-2\r\n                        shadow-lg\r\n                    \"\r\n                    :class=\"{'svg-map__popup_on': popupTransition}\"\r\n                >\r\n                    <div class=\"flex\">\r\n                        <span class=\"text-pink underline font-bold\">{{\r\n                            city.text\r\n                        }}</span>\r\n                        <span\r\n                            class=\"ml-auto cursor-pointer\"\r\n                            title=\"Закрыть\"\r\n                            @click=\"closePopup\"\r\n                            >✖</span\r\n                        >\r\n                    </div>\r\n\r\n                    <div\r\n                        v-for=\"(item, _) in cityData\"\r\n                        :key=\"_\"\r\n                        class=\"flex justify-between\"\r\n                    >\r\n                        <span class=\"text-black\"> {{ item.name }} </span>\r\n                        <span\r\n                            class=\"\r\n                                text-white\r\n                                leading-2\r\n                                rounded-full\r\n                                font-bold\r\n                                px-4\r\n                                bg-blue\r\n                            \"\r\n                        >\r\n                            {{ item.value }}\r\n                        </span>\r\n                    </div>\r\n                    <a :href=\"mapLink(city.city)\" class=\"mx-auto\">\r\n                        <button\r\n                            class=\"\r\n                                px-4\r\n                                py-2\r\n                                mx-auto\r\n                                bg-blue\r\n                                text-white\r\n                                font-bold\r\n                                rounded-md\r\n                            \"\r\n                        >\r\n                            Разместить рекламу\r\n                        </button>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class=\"grid md:hidden grid-cols-2 gap-2 px-4\">\r\n                <a\r\n                    v-for=\"c in mapCities\"\r\n                    :key=\"c.city\"\r\n                    :href=\"mapLink(c.city)\"\r\n                >\r\n                    <span class=\"text-xl text-white\">\r\n                        {{ c.text }}\r\n                    </span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n    props: ['title'],\r\n    data() {\r\n        return {\r\n            constructions: null,\r\n            cities: null, // TODO: переделать на computed mapCities обагащенные constructions, а тут хранить данные из api\r\n            city: null,\r\n            popupTransition: null,\r\n        }\r\n    },\r\n\r\n\r\n    mounted(){\r\n        // в оригинале получается по api\r\n        this.constructions = [{\"city\":\"Моршанск\",\"pl\":6,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Рассказово\",\"pl\":4,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Серов\",\"pl\":6,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Уварово\",\"pl\":6,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Энгельс\",\"pl\":36,\"dpl\":0,\"ss\":1,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Ангарск\",\"pl\":24,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Кировград\",\"pl\":4,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Котовск\",\"pl\":2,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Нижняя Тура\",\"pl\":8,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Ростов-на-Дону\",\"pl\":0,\"dpl\":7,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":2,\"spb\":0,\"dspb\":0},{\"city\":\"Москва\",\"pl\":263,\"dpl\":384,\"ss\":34,\"dss\":38,\"sb\":0,\"dsb\":17,\"spb\":13,\"dspb\":9},{\"city\":\"Санкт-Петербург\",\"pl\":384,\"dpl\":128,\"ss\":2,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Уфа\",\"pl\":289,\"dpl\":22,\"ss\":0,\"dss\":3,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Воронеж\",\"pl\":20,\"dpl\":12,\"ss\":2,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":4,\"dspb\":0},{\"city\":\"Иркутск\",\"pl\":152,\"dpl\":3,\"ss\":0,\"dss\":0,\"sb\":38,\"dsb\":0,\"spb\":2,\"dspb\":0},{\"city\":\"Саратов\",\"pl\":266,\"dpl\":20,\"ss\":0,\"dss\":0,\"sb\":6,\"dsb\":0,\"spb\":4,\"dspb\":0},{\"city\":\"Екатеринбург\",\"pl\":100,\"dpl\":54,\"ss\":5,\"dss\":5,\"sb\":67,\"dsb\":15,\"spb\":0,\"dspb\":2},{\"city\":\"Красноярск\",\"pl\":76,\"dpl\":44,\"ss\":0,\"dss\":0,\"sb\":1,\"dsb\":0,\"spb\":6,\"dspb\":3},{\"city\":\"Хабаровск\",\"pl\":104,\"dpl\":17,\"ss\":0,\"dss\":0,\"sb\":4,\"dsb\":0,\"spb\":9,\"dspb\":0},{\"city\":\"Новосибирск\",\"pl\":67,\"dpl\":21,\"ss\":0,\"dss\":2,\"sb\":0,\"dsb\":0,\"spb\":11,\"dspb\":1},{\"city\":\"Краснодар\",\"pl\":177,\"dpl\":11,\"ss\":8,\"dss\":1,\"sb\":169,\"dsb\":0,\"spb\":6,\"dspb\":1},{\"city\":\"Волгоград\",\"pl\":190,\"dpl\":12,\"ss\":2,\"dss\":0,\"sb\":7,\"dsb\":0,\"spb\":10,\"dspb\":0},{\"city\":\"Челябинск\",\"pl\":70,\"dpl\":8,\"ss\":0,\"dss\":0,\"sb\":1,\"dsb\":3,\"spb\":0,\"dspb\":0},{\"city\":\"Сочи\",\"pl\":26,\"dpl\":7,\"ss\":0,\"dss\":0,\"sb\":42,\"dsb\":18,\"spb\":0,\"dspb\":0},{\"city\":\"Нижний Новгород\",\"pl\":7,\"dpl\":28,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":14},{\"city\":\"Тюмень\",\"pl\":42,\"dpl\":7,\"ss\":0,\"dss\":0,\"sb\":3,\"dsb\":5,\"spb\":0,\"dspb\":0},{\"city\":\"Барнаул\",\"pl\":450,\"dpl\":13,\"ss\":4,\"dss\":0,\"sb\":4,\"dsb\":5,\"spb\":5,\"dspb\":0},{\"city\":\"Тамбов\",\"pl\":156,\"dpl\":5,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Самара\",\"pl\":0,\"dpl\":4,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":2},{\"city\":\"Владивосток\",\"pl\":142,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":2},{\"city\":\"Нижний Тагил\",\"pl\":306,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Пермь\",\"pl\":111,\"dpl\":0,\"ss\":0,\"dss\":0,\"sb\":32,\"dsb\":0,\"spb\":0,\"dspb\":0},{\"city\":\"Ставрополь\",\"pl\":0,\"dpl\":12,\"ss\":0,\"dss\":0,\"sb\":0,\"dsb\":0,\"spb\":2,\"dspb\":1}]\r\n        this.cities = [{\"ru\":\"Ангарск\",\"createdAt\":\"2023-02-22T10:32:34.756Z\",\"updatedAt\":\"2023-04-19T10:31:34.389Z\",\"publishedAt\":\"2023-02-22T10:32:37.372Z\",\"oid\":\"161-Ar\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Барнаул\",\"createdAt\":\"2022-08-30T15:58:31.987Z\",\"updatedAt\":\"2023-04-19T10:31:34.426Z\",\"publishedAt\":\"2022-08-30T15:58:31.986Z\",\"oid\":\"L4WS3RCSPRYEBJKCEM1KSOHWIM\",\"x\":550,\"y\":580,\"size\":\"small\",\"align\":null},{\"ru\":\"Владивосток\",\"createdAt\":\"2022-08-30T15:58:36.542Z\",\"updatedAt\":\"2023-04-19T10:31:34.656Z\",\"publishedAt\":\"2022-08-30T15:58:36.541Z\",\"oid\":\"121-Ar\",\"x\":1115,\"y\":665,\"size\":null,\"align\":\"left\"},{\"ru\":\"Волгоград\",\"createdAt\":\"2022-08-30T15:58:26.191Z\",\"updatedAt\":\"2023-04-19T10:31:34.522Z\",\"publishedAt\":\"2022-08-30T15:58:26.190Z\",\"oid\":\"201-Ar\",\"x\":150,\"y\":450,\"size\":\"small\",\"align\":null},{\"ru\":\"Воронеж\",\"createdAt\":\"2022-08-30T15:58:17.170Z\",\"updatedAt\":\"2023-04-19T10:31:34.482Z\",\"publishedAt\":\"2022-08-30T15:58:17.168Z\",\"oid\":\"4-Ar\",\"x\":136,\"y\":369,\"size\":null,\"align\":null},{\"ru\":\"Екатеринбург\",\"createdAt\":\"2022-08-30T15:58:20.533Z\",\"updatedAt\":\"2023-04-19T10:31:34.580Z\",\"publishedAt\":\"2022-08-30T15:58:20.532Z\",\"oid\":\"7-Ar\",\"x\":360,\"y\":440,\"size\":null,\"align\":null},{\"ru\":\"Иркутск\",\"createdAt\":\"2022-08-30T15:58:18.265Z\",\"updatedAt\":\"2023-04-19T10:31:34.636Z\",\"publishedAt\":\"2022-08-30T15:58:18.264Z\",\"oid\":\"142-Ar\",\"x\":762,\"y\":616,\"size\":null,\"align\":\"left\"},{\"ru\":\"Кировград\",\"createdAt\":\"2023-02-22T10:33:21.282Z\",\"updatedAt\":\"2023-04-19T10:31:34.399Z\",\"publishedAt\":\"2023-02-22T10:33:22.534Z\",\"oid\":\"6600000900000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Котовск\",\"createdAt\":\"2023-02-22T10:33:42.367Z\",\"updatedAt\":\"2023-04-19T10:31:34.408Z\",\"publishedAt\":\"2023-02-22T10:33:43.965Z\",\"oid\":\"6800000200000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Краснодар\",\"createdAt\":\"2022-08-30T15:58:25.048Z\",\"updatedAt\":\"2023-04-19T10:31:34.512Z\",\"publishedAt\":\"2022-08-30T15:58:25.046Z\",\"oid\":\"241-Ar\",\"x\":55,\"y\":440,\"size\":\"small\",\"align\":null},{\"ru\":\"Красноярск\",\"createdAt\":\"2022-08-30T15:58:21.695Z\",\"updatedAt\":\"2023-04-19T10:31:34.626Z\",\"publishedAt\":\"2022-08-30T15:58:21.694Z\",\"oid\":\"184-Ar\",\"x\":653,\"y\":535,\"size\":null,\"align\":null},{\"ru\":\"Моршанск\",\"createdAt\":\"2023-02-08T08:43:39.211Z\",\"updatedAt\":\"2023-04-19T10:31:34.338Z\",\"publishedAt\":\"2023-02-08T08:43:40.349Z\",\"oid\":\"6800000300000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Москва\",\"createdAt\":\"2022-08-30T15:58:13.750Z\",\"updatedAt\":\"2023-04-19T10:31:34.449Z\",\"publishedAt\":\"2022-08-30T15:58:13.748Z\",\"oid\":\"MOSCOW\",\"x\":180,\"y\":310,\"size\":\"big\",\"align\":\"top\"},{\"ru\":\"Нижний Новгород\",\"createdAt\":\"2022-08-30T15:58:29.775Z\",\"updatedAt\":\"2023-04-19T10:31:34.472Z\",\"publishedAt\":\"2022-08-30T15:58:29.774Z\",\"oid\":\"DTNSZS20KCHEDFAFB0KUX3E2BM\",\"x\":235,\"y\":350,\"size\":null,\"align\":null},{\"ru\":\"Нижний Тагил\",\"createdAt\":\"2022-08-30T15:58:37.643Z\",\"updatedAt\":\"2023-04-19T10:31:34.570Z\",\"publishedAt\":\"2022-08-30T15:58:37.641Z\",\"oid\":\"IV2DMTIDRPBEHFOV3I5OS5JXQU\",\"x\":345,\"y\":410,\"size\":\"small\",\"align\":null},{\"ru\":\"Нижняя Тура\",\"createdAt\":\"2023-02-22T10:34:07.672Z\",\"updatedAt\":\"2023-04-19T10:31:34.417Z\",\"publishedAt\":\"2023-02-22T10:34:11.803Z\",\"oid\":\"6600001400000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Новосибирск\",\"createdAt\":\"2022-08-30T15:58:23.958Z\",\"updatedAt\":\"2023-04-19T10:31:34.616Z\",\"publishedAt\":\"2022-08-30T15:58:23.957Z\",\"oid\":\"12-Ar\",\"x\":535,\"y\":545,\"size\":null,\"align\":\"top\"},{\"ru\":\"Пермь\",\"createdAt\":\"2022-08-30T15:58:38.959Z\",\"updatedAt\":\"2023-04-19T10:31:34.560Z\",\"publishedAt\":\"2022-08-30T15:58:38.958Z\",\"oid\":\"6-Ar\",\"x\":320,\"y\":390,\"size\":null,\"align\":null},{\"ru\":\"Рассказово\",\"createdAt\":\"2023-02-08T08:44:00.079Z\",\"updatedAt\":\"2023-04-19T10:31:34.350Z\",\"publishedAt\":\"2023-02-08T08:44:00.902Z\",\"oid\":\"6800000700000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Ростов-на-Дону\",\"createdAt\":\"2023-04-11T09:14:19.940Z\",\"updatedAt\":\"2023-04-19T10:31:34.492Z\",\"publishedAt\":\"2023-04-11T09:14:21.950Z\",\"oid\":\"162-Ar\",\"x\":72,\"y\":405,\"size\":null,\"align\":null},{\"ru\":\"Самара\",\"createdAt\":\"2022-08-30T15:58:34.259Z\",\"updatedAt\":\"2023-04-19T10:31:34.550Z\",\"publishedAt\":\"2022-08-30T15:58:34.257Z\",\"oid\":\"2-Ar\",\"x\":280,\"y\":430,\"size\":null,\"align\":\"left\"},{\"ru\":\"Санкт-Петербург\",\"createdAt\":\"2022-08-30T15:58:14.864Z\",\"updatedAt\":\"2023-04-19T10:31:34.437Z\",\"publishedAt\":\"2022-08-30T15:58:14.863Z\",\"oid\":\"0AMQVT3XT3UETHBNGCHGOALSUM\",\"x\":193,\"y\":215,\"size\":\"big\",\"align\":\"bottom\"},{\"ru\":\"Саратов\",\"createdAt\":\"2022-08-30T15:58:19.428Z\",\"updatedAt\":\"2023-04-19T10:31:34.502Z\",\"publishedAt\":\"2022-08-30T15:58:19.427Z\",\"oid\":\"244-Ar\",\"x\":190,\"y\":425,\"size\":\"small\",\"align\":\"left\"},{\"ru\":\"Серов\",\"createdAt\":\"2023-02-08T08:44:21.767Z\",\"updatedAt\":\"2023-04-19T10:31:34.360Z\",\"publishedAt\":\"2023-02-08T08:44:22.977Z\",\"oid\":\"163-Ar\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Сочи\",\"createdAt\":\"2022-08-30T15:58:28.378Z\",\"updatedAt\":\"2023-04-19T10:31:34.531Z\",\"publishedAt\":\"2022-08-30T15:58:28.376Z\",\"oid\":\"298-Ar\",\"x\":55,\"y\":490,\"size\":\"small\",\"align\":null},{\"ru\":\"Ставрополь\",\"createdAt\":\"2022-08-30T15:58:39.987Z\",\"updatedAt\":\"2023-04-19T10:31:34.541Z\",\"publishedAt\":\"2022-08-30T15:58:39.986Z\",\"oid\":\"242-Ar\",\"x\":115,\"y\":475,\"size\":\"small\",\"align\":null},{\"ru\":\"Тамбов\",\"createdAt\":\"2022-08-30T15:58:33.093Z\",\"updatedAt\":\"2023-04-19T10:31:34.462Z\",\"publishedAt\":\"2022-08-30T15:58:33.092Z\",\"oid\":\"HE4JQHDE2ATU1HIP0WQJC1431U\",\"x\":175,\"y\":335,\"size\":\"small\",\"align\":\"left\"},{\"ru\":\"Тюмень\",\"createdAt\":\"2022-08-30T15:58:30.890Z\",\"updatedAt\":\"2023-04-19T10:31:34.598Z\",\"publishedAt\":\"2022-08-30T15:58:30.889Z\",\"oid\":\"10-Ar\",\"x\":413,\"y\":461,\"size\":\"small\",\"align\":null},{\"ru\":\"Уварово\",\"createdAt\":\"2023-02-08T08:44:42.082Z\",\"updatedAt\":\"2023-04-19T10:31:34.370Z\",\"publishedAt\":\"2023-02-08T08:44:42.983Z\",\"oid\":\"6800000800000\",\"x\":null,\"y\":null,\"size\":null,\"align\":null},{\"ru\":\"Уфа\",\"createdAt\":\"2022-08-30T15:58:15.987Z\",\"updatedAt\":\"2023-04-19T10:31:34.589Z\",\"publishedAt\":\"2022-08-30T15:58:15.986Z\",\"oid\":\"9-Ar\",\"x\":305,\"y\":450,\"size\":null,\"align\":null},{\"ru\":\"Хабаровск\",\"createdAt\":\"2022-08-30T15:58:22.799Z\",\"updatedAt\":\"2023-04-19T10:31:34.646Z\",\"publishedAt\":\"2022-08-30T15:58:22.798Z\",\"oid\":\"182-Ar\",\"x\":1110,\"y\":565,\"size\":null,\"align\":\"left\"},{\"ru\":\"Челябинск\",\"createdAt\":\"2022-08-30T15:58:27.285Z\",\"updatedAt\":\"2023-04-19T10:31:34.608Z\",\"publishedAt\":\"2022-08-30T15:58:27.284Z\",\"oid\":\"143-Ar\",\"x\":348,\"y\":475,\"size\":null,\"align\":null},{\"ru\":\"Энгельс\",\"createdAt\":\"2023-02-08T08:45:02.929Z\",\"updatedAt\":\"2023-04-19T10:31:34.379Z\",\"publishedAt\":\"2023-02-08T08:45:03.861Z\",\"oid\":\"YSSFN3ULTPNUZKYVMLHQUPBD3Y\",\"x\":null,\"y\":null,\"size\":null,\"align\":null}]\r\n\r\n    },\r\n\r\n  computed: {\r\n        mapCities(){\r\n          if(!this.cities || this.cities === []) return null\r\n\r\n          let result = _.cloneDeep(this.cities)\r\n          result = result.map( city=>{\r\n            let text = city.ru\r\n            // TODO: это костыль, переделать через поле alias в админке\r\n            if (city.oid === \"MOSCOW\") text = \"Москва и МО\"\r\n            // TODO: переделать на сравнение по Oid (добавив его в constructions)\r\n            const found = this.constructions.find(constr => city.ru === constr.city)\r\n            return found? {...city, ...found, \"text\": text} : {...city, \"text\": text}\r\n          })\r\n\r\n          // сортировка как во vuex\r\n          const msk = 'MOSCOW'\r\n          const spb = '0AMQVT3XT3UETHBNGCHGOALSUM'\r\n\r\n          result.sort((a,b)=>{\r\n            if(a.oid === msk) return -1\r\n            if(b.oid === msk) return 1\r\n            if(a.oid === spb) return -1\r\n            if(b.oid === spb) return 1\r\n            return 0\r\n          })\r\n\r\n          return result\r\n        },\r\n\r\n        cityData() {\r\n            const city = this.city\r\n            return [\r\n                { name: 'Digital Билборд 3х6', value: city.dpl },\r\n                { name: 'Digital Суперсайт', value: city.dss },\r\n                { name: 'Digital Ситиборд', value: city.dsb },\r\n                { name: 'Digital Суперборд', value: city.dspb },\r\n                { name: 'Билборд 3х6', value: city.pl },\r\n                { name: 'Суперсайт', value: city.ss },\r\n                { name: 'Ситиборд', value: city.sb },\r\n                { name: 'Суперборд', value: city.spb },\r\n            ].filter(x=> x.value)\r\n        },\r\n        citiesSvg() {\r\n          if(!this.mapCities) return  null\r\n          return this.mapCities.filter(c=> !!c.x && !!c.y)\r\n        },\r\n        svgItems(){\r\n          if(!this.citiesSvg) return null\r\n\r\n          let svgItem\r\n          // noinspection UnnecessaryLocalVariableJS\r\n          const result = this.citiesSvg.reduce(\r\n            (accumulator, city) => {\r\n              svgItem = this.createSvgCity(city)\r\n              accumulator.city += svgItem.city\r\n              accumulator.path += svgItem.path\r\n              accumulator.mask += svgItem.mask\r\n              return accumulator\r\n            }\r\n            ,{\"city\": \"\",\"path\":\"\", \"mask\": \"\"})\r\n\r\n          return result\r\n        },\r\n\r\n      bgImage() {\r\n            return `${process.env.BASE_URL}images/russia.svg`\r\n      },\r\n    },\r\n\r\n    watch: {\r\n      city(val, old){\r\n        if(val===null && old !== null) this.clearSelected()\r\n      },\r\n    },\r\n\r\n    methods: {\r\n        mapLink(city) {\r\n            // return `/map?city=${city}`\r\n            return `javascript:alert('Переход на страницу с информацией по городу ${city}');`\r\n        },\r\n\r\n        closePopup() {\r\n            this.city = null\r\n        },\r\n\r\n        createSvgCity({x,y,text,oid,size,align}){\r\n\r\n          const bcQuadratic = (x1,y1,x2,y2,w, right)=>{\r\n            w= w ?? 0.5\r\n            let x,y\r\n            if(!right){\r\n              x = (x1 + x2 + w*(y2-y1))/2\r\n              y = (y1 + y2 - w*(x2-x1))/2\r\n            }else{\r\n              x = (x1 + x2 - w*(y2-y1))/2\r\n              y = (y1 + y2 + w*(x2-x1))/2\r\n            }\r\n            return {\"x\": x, \"y\":y}\r\n          }\r\n\r\n          const popup={\r\n            \"left\":{\r\n              \"x\": 500,\r\n              \"y\": 140,\r\n            },\r\n            \"right\":{\r\n              \"x\": 800,\r\n              \"y\": 140,\r\n            },\r\n          }\r\n\r\n          const yPopup = popup.left.y\r\n          let xPopup, cp, w = 1\r\n          const xCenter = (popup.right.x + popup.left.x) / 2\r\n          const isRight = x > xCenter\r\n          xPopup = !isRight ? popup.left.x : popup.right.x\r\n          w = (y - yPopup) / (600 - yPopup) + (1 - Math.abs(xCenter - x)/ xCenter) * 0.7\r\n          if (w<0.3) w = 0.3\r\n          if (w>2) w = 2\r\n          cp = bcQuadratic(x,y,xPopup,yPopup, w, isRight)\r\n\r\n          let fz=\"\" // font-size style\r\n          let r //радиус кружочка\r\n          if(size === \"big\" || size === \"small\"){\r\n            fz = \"svg-map__text_\" + size\r\n            r = size === \"big\" ? 11 : 5\r\n          }else {\r\n            r = 7\r\n          }\r\n\r\n          let xText,yText, textAnchor=\"\"\r\n          if(!align){\r\n            xText = x + r + 5\r\n            yText = y + r - 1\r\n          }else if(align === \"left\"){\r\n            xText = x - r -5\r\n            yText = y + r - 1\r\n            textAnchor= 'text-anchor=\"end\"'\r\n          }else if(align === \"top\"){\r\n            xText = x\r\n            yText = y - r - 8\r\n            textAnchor= 'text-anchor=\"middle\"'\r\n          }else if(align === \"bottom\"){\r\n            xText = x\r\n            yText = y + r + 18\r\n            textAnchor= 'text-anchor=\"middle\"'\r\n          }\r\n\r\n          let result = {}\r\n\r\n          result.city = `\r\n            <g data-oid=\"${oid}\" class=\"city svg-map__node\">\r\n            <g class=\"svg-map__link svg-map--click\">\r\n            <circle class=\"svg-map__circle svg-map--click\" cx=\"${x}\" cy=\"${y}\" r=\"${r}\" fill=\"currentColor\"/>\r\n            <text class=\"svg-map__text ${fz} svg-map--click\" x=\"${xText}\" y=\"${yText}\" fill=\"currentColor\" ${textAnchor}>${text}</text>\r\n            </g>\r\n            <defs>\r\n            <mask id=\"svg-map__mask_${oid}\">\r\n            <path class=\"svg-map__mask-path\" d=\"M${x} ${y} Q${cp.x} ${cp.y} ${xPopup},${yPopup}\" stroke=\"#fff\" stroke-width=\"4\" />\r\n            </mask>\r\n            </defs>\r\n           </g>\r\n          `\r\n\r\n          result.path = `\r\n            <path class=\"svg-map__path\" d=\"M${x} ${y} Q${cp.x} ${cp.y} ${xPopup},${yPopup}\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-dasharray=\"4 6\" mask=\"url(#svg-map__mask_${oid})\" />\r\n          `\r\n\r\n          result.mask = `\r\n          <circle class=\"svg-map__circle\" cx=\"${x}\" cy=\"${y}\" r=\"${r}\"/>\r\n          <text class=\"svg-map__text ${fz}\" x=\"${xText}\" y=\"${yText}\" ${textAnchor}>${text}</text>\r\n          `\r\n\r\n          return result\r\n        },\r\n\r\n        clickMap(e){\r\n          const target = e.target\r\n          if (!target.classList.contains(\"svg-map--click\")) {\r\n            //TODO закрытие окна, очистка путей\r\n            this.city = null\r\n            return\r\n          }\r\n          const node = target.closest(\".svg-map__node\")\r\n          this.clearSelected()\r\n          node.classList.add(\"svg-map__node_selected\")\r\n\r\n          //мягко прокручиваем карту к началу блока\r\n          const topMap = document.getElementById('map')\r\n          topMap.scrollIntoView({ behavior: 'smooth' })\r\n\r\n          const oid = node.dataset.oid\r\n\r\n          if(!this.city || this.city.oid !== oid){\r\n            setTimeout(() => {\r\n              this.city = this.mapCities.find(c => c.oid === oid)\r\n            }, 450)\r\n            this.popupTransition = true;\r\n            setTimeout(() => {\r\n              this.popupTransition = false;\r\n            }, 1500)\r\n          }\r\n\r\n        },\r\n\r\n        clearSelected() {\r\n          document.querySelectorAll('#svg-map .svg-map__node_selected').forEach(n => n.classList.remove(\"svg-map__node_selected\"))\r\n        },\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.svg-map{\r\n  color:  white;\r\n\r\n  &__link{\r\n    pointer-events: bounding-box;\r\n    cursor: pointer;\r\n\r\n  }\r\n\r\n  &__circle{\r\n    transform-origin: 50% 50%;\r\n    transform-box: fill-box;\r\n    transition: all 200ms;\r\n  }\r\n\r\n  &__text{\r\n    font-size: 16px;\r\n    transition: all 200ms;\r\n\r\n    &_big{\r\n      font-size: 20px;\r\n    }\r\n    &_small{\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  &__node {\r\n    &_selected{\r\n      .svg-map__mask-path{\r\n        animation: svg-map--dash 2s forwards;\r\n      }\r\n    }\r\n\r\n    &:not(&_selected){\r\n      .svg-map__link:hover{\r\n        .svg-map__circle{\r\n          transform: scale(1.2);\r\n          color: #f5c4ff;\r\n        }\r\n        .svg-map__text{\r\n          color: #f5c4ff;\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  &__path{opacity: 0.8}\r\n\r\n  &__mask-path {\r\n    stroke-dasharray: 1000;\r\n    stroke-dashoffset: 1000;\r\n  }\r\n\r\n\r\n  &__popup{\r\n    &_on{\r\n      animation: svg-map--popup 900ms;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n@keyframes svg-map--dash {\r\n  from{\r\n    stroke-dashoffset: 1000;\r\n  }\r\n  to {\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n\r\n@keyframes svg-map--popup {\r\n  0%{\r\n    transform: scale(1) translateX(-50%);\r\n  }\r\n  50% {\r\n    transform: scale(1.1) translateX(-45.5%);\r\n  }\r\n  100%{\r\n    transform: scale(1) translateX(-50%);\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=2f70e624&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=2f70e624&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div class=\"container px-4 mx-auto mt-8\">\r\n    <h1 class=\"text\">Карта с путями</h1>\r\n    <div class=\"text\">\r\n      <p>Пути на карте сторятся динамически с использованием модели кривых Безье.</p>\r\n      <p>vue2, tailwindcss, SCSS, SVG</p>\r\n    </div>\r\n\r\n    </div>\r\n    <map-bezier title = \"Наши города\" class=\"mt-4 mb-32\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from './components/Map.vue'\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    \"map-bezier\": Map\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=698490bd&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport './styles/main.css'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmap_bezier_vue2\"] = self[\"webpackChunkmap_bezier_vue2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(6306); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","_m","staticClass","staticRenderFns","_v","staticStyle","_s","title","bgImage","on","clickMap","svgItems","domProps","path","city","mask","_e","ref","class","popupTransition","text","closePopup","_l","cityData","item","_","key","name","value","mapLink","mapCities","c","props","data","constructions","cities","mounted","computed","result","map","ru","oid","found","find","constr","msk","spb","sort","a","b","dpl","dss","dsb","dspb","pl","ss","sb","filter","x","citiesSvg","y","svgItem","reduce","accumulator","createSvgCity","watch","val","old","clearSelected","methods","size","align","bcQuadratic","x1","y1","x2","y2","w","right","popup","yPopup","left","xPopup","cp","xCenter","isRight","Math","abs","r","fz","xText","yText","textAnchor","e","target","classList","contains","node","closest","add","topMap","document","getElementById","scrollIntoView","behavior","dataset","setTimeout","querySelectorAll","forEach","n","remove","component","components","Map","Vue","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}